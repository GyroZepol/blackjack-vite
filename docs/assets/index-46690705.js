(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const l=t=>{const e=document.getElementById("liveToast"),o=e.querySelector(".toast-body");o.textContent=t,new bootstrap.Toast(e).show()},w=t=>{let e,o,n,r=t;for(e=r.length-1;e>0;e--)o=Math.floor(Math.random()*(e+1)),n=r[e],r[e]=r[o],r[o]=n;return r},E=(t,e)=>{if(!t||!t.length)throw new Error("Missing Types");if(!e||!e.length)throw new Error("Missing specialCards");let o=[];for(let n=2;n<=10;n++)for(let r of t)o.push(n+r);for(let n of t)for(let r of e)o.push(r+n);return w(o)},f=t=>{if(!t)throw new Error("Deck mising");if(!t.length)throw alert("There aren't more cards"),"Deck empty";return t.pop()},b=t=>{if(!t)throw new Error("Card Missing");const e=t.substring(0,t.length-1);return isNaN(e)?e==="A"?11:10:e*1},a=document.querySelector("#takeCardButton"),m=document.querySelectorAll(".cardsContainer"),p=document.querySelectorAll(".scoreSmall"),d=document.querySelector("#stopGameButton"),C=document.querySelector("#newGameButton"),h=(t,e)=>{const o=document.createElement("img");o.src=`assets/bj-cards/${e}.png`,o.classList.add("bj-playing-card"),m[t].append(o)},g=(t,e,o)=>{e[t]+=b(o),p[t].innerText=e[t]},T=(t,e,o)=>{const n=o.length-1;let r;do{const s=f(e);g(n,o,s),h(n,s),r=o[n]}while(t<=21&&r<=t&&r+1!==21&&r<21)};let u=[];const S=["C","D","H","S"],L=["A","J","Q","K"];let c=[];const B=(t=2)=>{u=E(S,L),c=[];for(let e=0;e<t;e++)c.push(0);m.forEach(e=>{e.innerHTML=""}),p.forEach(e=>{e.innerText=0}),a.disabled=!1,d.disabled=!1},y=()=>{a.disabled=!0,d.disabled=!0;let t=c[0],e=c.length-1;T(t,u,c);let o=c[e];if(t===21&&o!==t||o>21||o<t&&t<21){l("Player Wins");return}if(t===o){l("Draw");return}l("CPU wins")};a.addEventListener("click",()=>{let t=0;const e=f(u);g(t,c,e),h(t,e),c[t]>=21&&y()});d.addEventListener("click",()=>{y()});C.addEventListener("click",()=>{B()});
